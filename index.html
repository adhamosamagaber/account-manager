<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Manager - Ultimate Edition</title>
    <style>
        :root { --neon-green: #00ff41; --glow-shadow: 0 0 15px rgba(0, 255, 65, 0.6); }
        body { margin: 0; overflow: hidden; background: #000; font-family: 'Segoe UI', sans-serif; color: var(--neon-green); }
        canvas { position: fixed; top: 0; left: 0; z-index: -1; }
        
        /* زر الوضع السري */
        #ghost-btn { position: fixed; top: 10px; left: 10px; background: rgba(255,255,255,0.05); border: 1px solid #222; color: #333; padding: 5px 10px; cursor: pointer; border-radius: 5px; z-index: 1000; font-size: 10px; transition: 0.3s; }
        #ghost-btn:hover { color: var(--neon-green); border-color: var(--neon-green); }

        .wrapper { display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 20px; transition: opacity 0.3s; }
        
        #login-screen, .container { 
            background: rgba(5, 5, 5, 0.95); padding: 30px; border-radius: 15px; 
            border: 2px solid var(--neon-green); box-shadow: var(--glow-shadow); 
            width: 100%; max-width: 650px; z-index: 10; animation: glow-pulse 2s infinite alternate;
        }
        @keyframes glow-pulse { from { box-shadow: 0 0 10px rgba(0,255,65,0.2); } to { box-shadow: 0 0 25px rgba(0,255,65,0.5); } }

        .container { display: none; max-height: 90vh; overflow-y: auto; }
        h2 { text-align: center; text-shadow: 0 0 15px var(--neon-green); letter-spacing: 2px; }
        
        textarea, input { 
            width: 100%; background: #000; border: 1px solid var(--neon-green); color: var(--neon-green); 
            padding: 12px; border-radius: 5px; margin-bottom: 10px; box-sizing: border-box; 
            font-family: monospace; transition: 0.3s;
        }
        textarea:focus { box-shadow: 0 0 10px var(--neon-green); outline: none; }

        .btn { width: 100%; padding: 12px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; margin-bottom: 10px; transition: 0.3s; text-transform: uppercase; }
        .btn-main { background: var(--neon-green); color: #000; }
        .btn-main:hover { transform: scale(1.02); box-shadow: 0 0 20px var(--neon-green); }
        .btn-download { background: #008cff; color: #fff; }

        .stats-bar { display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 10px; border-bottom: 1px solid #222; padding-bottom: 5px; }
        pre { background: #000; padding: 15px; border: 1px solid #111; color: var(--neon-green); text-align: left; direction: ltr; border-radius: 8px; font-size: 12px; position: relative; }
        
        /* انيميشن الكتابة */
        .typing::after { content: "|"; animation: blink 0.7s infinite; }
        @keyframes blink { 50% { opacity: 0; } }
    </style>
</head>
<body>

<button id="ghost-btn" onclick="ghostMode()">GHOST MODE</button>
<canvas id="matrix"></canvas>

<div class="wrapper" id="mainWrapper">
    <div id="login-screen">
        <h2>SYSTEM ACCESS</h2>
        <input type="password" id="sitePass" placeholder="ENTER ENCRYPTION KEY (2006)">
        <button class="btn btn-main" onclick="checkAccess()">DECRYPT</button>
    </div>

    <div class="container" id="mainContent">
        <h2>CENTRAL TERMINAL v6.0</h2>
        <div class="stats-bar">
            <span>إجمالي الوحدات: <span id="counter">0</span></span>
            <span style="color: #ff4141;">المكرر: <span id="dupCounter">0</span></span>
        </div>
        <textarea id="accountsInput" rows="5" placeholder="user : password" oninput="updateCounter()"></textarea>
        <input type="text" id="newPassword" placeholder="كلمة المرور الجديدة">
        <button class="btn btn-main" onclick="processAll()">START PROCESSING</button>

        <div id="resultArea" style="display:none;">
            <label style="font-size: 11px;">النتائج المصفاة (Typewriter Mode):</label>
            <pre id="outputArea"></pre>
            <button class="btn btn-download" id="downBtn" style="display:none;" onclick="downloadText()">SAVE AS .TXT</button>
            
            <div id="duplicateContainer" style="display:none; margin-top:15px; border: 1px solid #300;">
                <h4 style="color:#ff4141; margin:5px; font-size:12px;">مكررات معزولة:</h4>
                <pre id="duplicateArea" style="color:#ff4141; border:none;"></pre>
            </div>
        </div>
    </div>
</div>

<script>
    // نظام الصوت
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    function playSfx(f, t, d) {
        const o = audioCtx.createOscillator(); const g = audioCtx.createGain();
        o.type = t; o.frequency.value = f; g.gain.setValueAtTime(0.05, audioCtx.currentTime);
        o.connect(g); g.connect(audioCtx.destination); o.start(); o.stop(audioCtx.currentTime + d);
    }

    // ميزة الإخفاء السريع
    function ghostMode() {
        document.getElementById('mainWrapper').style.opacity = '0';
        setTimeout(() => { window.location.href = "https://www.google.com"; }, 300);
    }

    // ماتركس
    const canvas = document.getElementById('matrix'); const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    const drops = Array(Math.floor(canvas.width/16)).fill(1);
    function draw() {
        ctx.fillStyle = "rgba(0, 0, 0, 0.1)"; ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = "#003300"; ctx.font = "15px monospace";
        drops.forEach((y, i) => {
            ctx.fillText(String.fromCharCode(Math.floor(Math.random()*128)), i * 16, y * 16);
            if (y * 16 > canvas.height && Math.random() > 0.975) drops[i] = 0;
            drops[i]++;
        });
    }
    setInterval(draw, 40);

    function checkAccess() {
        playSfx(440, 'sine', 0.1);
        if(document.getElementById('sitePass').value === "2006") {
            playSfx(880, 'square', 0.2);
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
        } else alert("ACCESS DENIED");
    }

    function updateCounter() {
        const lines = document.getElementById('accountsInput').value.trim().split('\n').filter(l => l !== "");
        const unique = new Set(lines.map(l => l.trim()));
        document.getElementById('counter').innerText = lines.length;
        document.getElementById('dupCounter').innerText = lines.length - unique.size;
    }

    // نظام الطباعة الآلية الفخم
    function typeWriter(text, elementId, callback) {
        let i = 0;
        const el = document.getElementById(elementId);
        el.textContent = "";
        el.classList.add('typing');
        const interval = setInterval(() => {
            el.textContent += text[i];
            i++;
            playSfx(1000, 'sine', 0.01);
            if (i === text.length) {
                clearInterval(interval);
                el.classList.remove('typing');
                if(callback) callback();
            }
        }, 5); // سرعة الطباعة
    }

    function processAll() {
        playSfx(600, 'sine', 0.1);
        const input = document.getElementById('accountsInput').value.trim();
        const newPass = document.getElementById('newPassword').value;
        if(!input || !newPass) return;

        const lines = input.split('\n').map(l => l.trim());
        const seen = new Set();
        const cleanList = [];
        const duplicates = [];

        lines.forEach(line => {
            if (seen.has(line)) duplicates.push(line);
            else { 
                seen.add(line); 
                cleanList.push(line.includes(':') ? `${line.split(':')[0].trim()} : ${newPass}` : line);
            }
        });

        document.getElementById('resultArea').style.display = 'block';
        typeWriter(cleanList.join('\n'), 'outputArea', () => {
            document.getElementById('downBtn').style.display = 'block';
            playSfx(1200, 'square', 0.3);
            if (duplicates.length > 0) {
                document.getElementById('duplicateContainer').style.display = 'block';
                document.getElementById('duplicateArea').textContent = duplicates.join('\n');
            }
        });
    }

    function downloadText() {
        playSfx(400, 'sine', 0.1);
        const blob = new Blob([document.getElementById('outputArea').textContent], { type: 'text/plain' });
        const a = document.createElement('a'); a.download = 'accounts_pro.txt';
        a.href = window.URL.createObjectURL(blob); a.click();
    }
</script>
</body>
</html>
